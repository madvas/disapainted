<md-dialog aria-label="Choose Stickfigure" class="canvas-figures-dialog">
  <md-content class="canvas-figures-content">
    <div class="text-right mar-bot-5 font-xs">Stickfigures were imported from
      <a data-analytics-on="click" data-analytics-event="externalLink" data-analytics-category="droidz"
         href="http://droidz.org/" target="_blank">droidz.org
      </a></div>
    <div class="canvas-dialog-list-wrap">
      <div data-ng-repeat="figureName in vm.filtered = (vm.figures | filter:searchText) | rest:(currentPage - 1) * vm.pageSize |
        limitTo:vm.pageSize" class="col-lg-2 col-xs-4 selectable-wrap pad-top-5 pad-bot-5"
           data-ng-class="{'md-whiteframe-z1': vm.selected[figureName]}"
           data-ng-click="vm.toggleSelect(figureName)">
        <img data-ng-src="{{vm.figuresPath + figureName + '.png'}}"/>

        <div class="figure-name font-sm" title="{{figureName}}">{{figureName}}</div>
      </div>
    </div>
  </md-content>
  <div class="md-actions" layout="row">
    <div class="w-50 text-left">
    <pagination boundary-links="true" total-items="vm.filtered.length" ng-model="currentPage"
                previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
                max-size="7"
                items-per-page="vm.pageSize"></pagination>
    </div>
    <md-input-container>
      <label>Search</label>
      <input ng-model-options="{ debounce: 500 }" ng-model="searchText">
    </md-input-container>
    <md-button ng-click="vm.answer({})">Cancel</md-button>
    <md-button data-ng-disabled="!vm.selectedCount()" ng-click="vm.answer(vm.selected)" class="md-primary">
      Insert Stickfigures ({{vm.selectedCount()}})</md-button>
  </div>
</md-dialog>
